<!DOCTYPE html>
<html>

<head>
	<!--Title-->
	<title>Lapsus Linguae</title>
	
	<!--CSS-->
	<link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>

<body>

	<!--Navigation Bar-->
	<nav>
		<ul>
			<li>Lapsus Linguae</li>
			<li>About</li>
			<li>
				<input type="search" name="query">
				<input type="submit" value="Search">
			</li>
			<li>My Account</li>
		</ul>
	</nav>
	
	<!--Speech Recognition-->
	<div id="speech">
		<h1>Welcome!</h1>
		<textarea id="textarea" rows = 10 cols = 80></textarea>
		<button id="button" onclick="recognition.start()">Click to start</button>
	</div>
	
	<!--Footer-->
	<footer>
		<p>Created by RCOS and DFA</p>
	</footer>
	
	<!--Move to seperate file-->
	<script type="text/javascript">
		if(!('webkitSpeechRecognition' in window)){	
			//If Not on Webkit
			alert("Your browser does not support voice recognition!");
		}else{
			//Recognition Variable
			var recognizing = false;
			var recognition = new webkitSpeechRecognition();
			var final_transcript = '';
			recognition.continuous = true;
			recognition.interimResults = true;
			recognition.lang = "en-US";
			//On Start
			recognition.onstart = function(){
				recognizing = true;
			}
			
			//On End
			recognition.onend = function(){
				recognizing = false;
			}
			
			//On Result
			recognition.onresult = function(event){
				var interim_transcript = '';
				for(var i = event.resultIndex; i < event.results.length; ++i){
					if(event.results[i].isFinal){
						final_transcript += event.results[i][0].transcript;
						if(event.results[i][0].transcript == "hello"){
							alert("OOPS!");
						}
					}else{
						interim_transcript += event.results[i][0].transcript;
					}
				}
				textarea.innerHTML = final_transcript;
			}
		}
	</script>
	
<body>
</html>